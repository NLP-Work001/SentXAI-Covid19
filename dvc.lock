schema: '2.0'
stages:
  process:
    cmd: python src/data_processing/data_preprocessing.py data/raw data/processed
    deps:
    - path: data/raw/covid-19-tweets
      hash: md5
      md5: 9c7fc07f5cb4acdbd4da5fd73c2fe864.dir
      size: 11502756
      nfiles: 2
    - path: src/data_processing/data_preprocessing.py
      hash: md5
      md5: 3e407656f2cdbd3403979fa66d6b520e
      size: 6830
      isexec: true
    params:
      configs.yml:
        data.processed.data_size: 2000
    outs:
    - path: data/processed
      hash: md5
      md5: 52c12f64eea75ec066627632c4d4652d.dir
      size: 619547
      nfiles: 1
  data_analysis:
    cmd: python src/data_processing/exploratory_analysis.py data/processed data/analytics
    deps:
    - path: data/processed
      hash: md5
      md5: 52c12f64eea75ec066627632c4d4652d.dir
      size: 619547
      nfiles: 1
    - path: src/data_processing/exploratory_analysis.py
      hash: md5
      md5: 8698436dc67938f24e6d59edfdd65648
      size: 4070
      isexec: true
    outs:
    - path: data/analytics
      hash: md5
      md5: 6b986c71ea31809aae00df0431df1ddf.dir
      size: 93861
      nfiles: 3
  data_split:
    cmd: python src/data_processing/data_splitting.py data/processed data/split
    deps:
    - path: data/processed
      hash: md5
      md5: 52c12f64eea75ec066627632c4d4652d.dir
      size: 619547
      nfiles: 1
    - path: src/data_processing/data_splitting.py
      hash: md5
      md5: 8d6134f0ae2734e695fc66aa78d1f86c
      size: 1896
      isexec: true
    params:
      configs.yml:
        data.split.ratio: 0.25
        data.split.seed: 42
    outs:
    - path: data/split
      hash: md5
      md5: 6767010216476e09c503baac89ab884e.dir
      size: 207855
      nfiles: 3
  baseline_model:
    cmd: python src/model_development/baseline_model.py src/model_checkpoints/baselines
    deps:
    - path: src/model_development/baseline_model.py
      hash: md5
      md5: 2439f49cfdbf7d0c3c5de1cc7106d846
      size: 1284
      isexec: true
    params:
      configs.yml:
        models.seed: 43
    outs:
    - path: src/model_checkpoints/baselines
      hash: md5
      md5: 36b4dbf288f8b1bf3e23f92aadc968a1.dir
      size: 1840
      nfiles: 5
  training:
    cmd: python src/model_development/model_training.py data/split src/model_checkpoints/trained
    deps:
    - path: data/split
      hash: md5
      md5: ac1b0fcdc2b789f46680321ef8d4f300.dir
      size: 1571379
      nfiles: 3
    - path: src/model_development/model_training.py
      hash: md5
      md5: e5e05d802e6d08848f8c1845b126259a
      size: 7965
      isexec: true
    params:
      configs.yml:
        models.train.model: logistic
    outs:
    - path: src/model_checkpoints/trained
      hash: md5
      md5: 20615c8a35668ff358052372a9712651.dir
      size: 1063539
      nfiles: 7
  cross_validation:
    cmd: python src/model_optimization/cross_validation.py data/split src/model_checkpoints/cross_valid
    deps:
    - path: data/split
      hash: md5
      md5: ac1b0fcdc2b789f46680321ef8d4f300.dir
      size: 1571379
      nfiles: 3
    - path: src/model_optimization/cross_validation.py
      hash: md5
      md5: adb71eb559a6a7322ef1617bba122b16
      size: 5496
      isexec: true
    params:
      configs.yml:
        models.cross_validation.model: logistic
        models.cross_validation.n_split: 10
    outs:
    - path: src/model_checkpoints/cross_valid
      hash: md5
      md5: 9039be003c9e1be85024d64cb5489874.dir
      size: 95677
      nfiles: 2
  hyper_optimizer:
    cmd: python src/model_optimization/hyper_opt.py data/split
    deps:
    - path: data/split
      hash: md5
      md5: f6d712245b850b4aefb4807067b13fb5.dir
      size: 1045537
      nfiles: 3
    - path: src/model_optimization/hyper_opt.py
      hash: md5
      md5: 27fd8c99a2585fe43c7ca675793b3d75
      size: 4938
      isexec: true
    params:
      configs.yml:
        models.train.optimize: false
    outs:
    - path: src/model_checkpoints/tuned
      hash: md5
      md5: 43a3f07b289dc99297009f1148bd323e.dir
      size: 16462
      nfiles: 2
