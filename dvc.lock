schema: '2.0'
stages:
  process:
    cmd: python src/data_processing/data_preprocessing.py data/raw data/processed
    deps:
    - path: data/raw/covid-19-tweets
      hash: md5
      md5: 9c7fc07f5cb4acdbd4da5fd73c2fe864.dir
      size: 11502756
      nfiles: 2
    - path: src/data_processing/data_preprocessing.py
      hash: md5
      md5: 2ac9581481955aef292e951525d0c2a4
      size: 6830
      isexec: true
    params:
      configs.yml:
        data.processed.data_size: 15000
    outs:
    - path: data/processed
      hash: md5
      md5: 351beb2296f28db4bd985d8251e15e06.dir
      size: 4669922
      nfiles: 1
  data_analysis:
    cmd: python src/data_processing/exploratory_analysis.py data/processed data/analytics
    deps:
    - path: data/processed
      hash: md5
      md5: 351beb2296f28db4bd985d8251e15e06.dir
      size: 4669922
      nfiles: 1
    - path: src/data_processing/exploratory_analysis.py
      hash: md5
      md5: 8698436dc67938f24e6d59edfdd65648
      size: 4070
      isexec: true
    outs:
    - path: data/analytics
      hash: md5
      md5: 58a0c78f985a0becfb97e3c612ed5352.dir
      size: 98401
      nfiles: 3
  data_split:
    cmd: python src/data_processing/data_splitting.py data/processed data/split
    deps:
    - path: data/processed
      hash: md5
      md5: 351beb2296f28db4bd985d8251e15e06.dir
      size: 4669922
      nfiles: 1
    - path: src/data_processing/data_splitting.py
      hash: md5
      md5: 1473665e30393d35cc9dc39a6805517e
      size: 1972
      isexec: true
    params:
      configs.yml:
        data.split.ratio: 0.25
        data.split.seed: 42
    outs:
    - path: data/split
      hash: md5
      md5: fd0db983e20e832196f4fe9220d3431b.dir
      size: 1571399
      nfiles: 3
  baseline_model:
    cmd: python src/model_development/baseline_model.py src/model_checkpoints/baselines
    deps:
    - path: src/model_development/baseline_model.py
      hash: md5
      md5: 2439f49cfdbf7d0c3c5de1cc7106d846
      size: 1284
    params:
      configs.yml:
        models.seed: 43
    outs:
    - path: src/model_checkpoints/baselines
      hash: md5
      md5: 36b4dbf288f8b1bf3e23f92aadc968a1.dir
      size: 1840
      nfiles: 5
  training:
    cmd: python src/model_development/model_training.py data/split src/model_checkpoints/trained
    deps:
    - path: data/split
      hash: md5
      md5: fd0db983e20e832196f4fe9220d3431b.dir
      size: 1571399
      nfiles: 3
    - path: src/model_development/model_training.py
      hash: md5
      md5: a49e1ec269c02fdcab7d47beb164ca37
      size: 8868
      isexec: true
    params:
      configs.yml:
        models.train.model: forest
    outs:
    - path: src/model_checkpoints/trained
      hash: md5
      md5: c777f5debaa13144fb16bb6b80511414.dir
      size: 66587771
      nfiles: 8
  cross_validation:
    cmd: python src/model_optimization/cross_validation.py data/split src/model_checkpoints/cross_valid
    deps:
    - path: data/split
      hash: md5
      md5: 1dd5646581d878b186c70ce3d3b00f4a.dir
      size: 207875
      nfiles: 3
    - path: src/model_optimization/cross_validation.py
      hash: md5
      md5: 692105107057c9f23dfb9e0e50acfa06
      size: 5497
      isexec: true
    params:
      configs.yml:
        models.cross_validation.model: logistic
        models.cross_validation.n_split: 10
    outs:
    - path: src/model_checkpoints/cross_valid
      hash: md5
      md5: 104278b8443574122e678b25a9a404de.dir
      size: 95723
      nfiles: 2
  hyper_optimizer:
    cmd: python src/model_optimization/hyper_opt.py data/split
    deps:
    - path: data/split
      hash: md5
      md5: 05a3d0f796690f43533764fce78ee6d7.dir
      size: 1045557
      nfiles: 3
    - path: src/model_optimization/hyper_opt.py
      hash: md5
      md5: c68b670032eb3c7bf5f103978087c74a
      size: 4937
      isexec: true
    params:
      configs.yml:
        models.train.optimize: false
    outs:
    - path: src/model_checkpoints/tuned
      hash: md5
      md5: 9669331241da2a9ba6e13dd49e41d1e1.dir
      size: 16484
      nfiles: 2
